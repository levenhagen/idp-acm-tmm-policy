apiVersion: policy.open-cluster-management.io/v1
kind: PolicyGenerator
metadata:
  name: policy-configure-acm-users
policyDefaults:
  namespace: policies
  categories:
      - CM Configuration Management
  
orderPolicies: true
placements:
  labelSelector:
    matchExpressions:
      - {key: vendor, operator: In, values: ["OpenShift"]}
      - {key: name, operator: NotIn, values: ["local-cluster"]}
policies:
  - name: add-acm-tmm-hub-idp-provider
    manifests:
      - path: input/tmm-hub-idp.yaml
  - name: add-acm-tmm-hub-idp-provider
    manifests:
      - path: input/tmm-hub-cluster-role.yaml 
  - name: remove-kubeadmin-password
    complianceType: "mustnothave"
    manifests:
      - path: input/remove-kubeadmin-pass.yaml
